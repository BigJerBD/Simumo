<!DOCTYPE html>
<html>
<header>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="jquery-ui.css">
  <link rel="stylesheet" href="https://unpkg.com/openlayers/dist/ol.css">
  <link rel="stylesheet" href="https://unpkg.com/ol-popup@2.0.0/src/ol-popup.css">
  <link rel="stylesheet" href="layout.css">
  <link rel="stylesheet" href="jquery-ui-slider-pips.css">
  <link rel="stylesheet" type="text/css" href="tabs.css" />
  <script src="jquery-3.3.1.min.js"></script>
  <script src="jquery-ui.js"></script>
  <script src="jquery-ui-slider-pips.js"></script>
  <script src="https://unpkg.com/openlayers@4.4.2"></script>
  <script src="https://unpkg.com/ol-popup@2.0.0"></script>
  <script src="tabs.js" type="text/javascript"></script>
  <script src="updateVisualizationBox.js" type="text/javascript"></script>
</header>

<body style="margin:0px;">
  <div class="headerBox">
    <img src="logoSimumo.png" class="logo">
    <span padding-bottom=10px>Visualisation </span>
  </div>

  <br>

  <div class=selectionBoxes>
    <div class="selectionBox">
      <div class="metricSelectionBox">
        <h3>Métriques</h3>
        {% for metricName in metrics %}
          <input type="radio" name="oneSelectionOnly" style="float:left;" onclick="updateVisualizationBox()">
          <div style="float:left;">{{metricName}}</div>
          <br>
        {% endfor %}
      </div>
    </div>

    <div class="selectionBox">
      <h3>Légende</h3>
      <ul>
        <li>
          <div class="input-color">
            <div> &gt; 10</div>
            <div class="color-box" style="background-color: #FE0000;"></div>
          </div>
        </li>
        <li>
          <div class="input-color">
            <div> [8,10]</div>
            <div class="color-box" style="background-color: #FE7F00;"></div>
          </div>
        </li>
        <li>
          <div class="input-color">
            <div> &lt; 8</div>
            <div class="color-box" style="background-color: #FEFE00;"></div>
          </div>
        </li>
      </ul>
    </div>

  </div>

  <div id="content">
    <div id="tabs">
      <ul>
        <li><a href="#" rel="MapBox" class="selected" onclick="loadit(this)">Carte</a></li>
        <li><a href="#" rel="OtherVisualisation" onClick="loadit(this)">Autre</a></li>
      </ul>

      <div id="VisualizationBox">
        <div class="MapBox">
          {% include 'OlMapTemplate.html' %}
        </div>
        <div class="OtherVisualisation" visibility="hidden">
        </div>
      </div>
    </div>
  </div>

  <br>
  <br>

  <div class="sliderPosition">
    <div id="flat-slider"></div>
  </div>

  <!-- https://simeydotme.github.io/jQuery-ui-Slider-Pips/#installation -->
  <script>
    $("#flat-slider").slider({
      max: {{timeline.max}},
      min: {{timeline.min}},
      range: false,
      slide: updateVisualizationBox
    }).slider("pips", {
      rest: "label",
      step: {{timeline.intervalStep}}
    });
  </script>

</body>
